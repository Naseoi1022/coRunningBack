<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>찜목록 해제 테스트</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    label, input, button { margin: 5px 0; display: block; }
    #output { margin-top: 20px; font-weight: bold; color: green; }
  </style>
</head>
<body>
  <h2>찜목록 해제 테스트</h2>

  <label for="userIdInput">사용자 ID:</label>
  <input type="text" id="userIdInput" placeholder="userId 입력" />

  <label for="routeIdInput">해제할 경로 ID:</label>
  <input type="number" id="routeIdInput" placeholder="routeId 입력" />

  <button id="removeDipBtn">찜목록에서 경로 해제</button>

  <div id="output"></div>

  <script>
    document.getElementById('removeDipBtn').onclick = async () => {
      const userId = document.getElementById('userIdInput').value.trim();
      const routeId = document.getElementById('routeIdInput').value.trim();
      const output = document.getElementById('output');

      if (!userId || !routeId) {
        alert("사용자 ID와 경로 ID를 모두 입력하세요.");
        return;
      }

      try {
        const res = await fetch(`/api/dip/remove?userId=${encodeURIComponent(userId)}&routeId=${routeId}`, {
          method: 'DELETE'
        });
        const msg = await res.text();
        if (res.ok) {
          output.textContent = "성공: " + msg;
          output.style.color = 'green';
        } else {
          output.textContent = "실패: " + msg;
          output.style.color = 'red';
        }
      } catch (e) {
        output.textContent = "오류 발생: " + e.message;
        output.style.color = 'red';
      }
    };
  </script>
</body>
</html>
